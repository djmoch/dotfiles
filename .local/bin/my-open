#!/bin/sh

#
# ~/.local/bin/my-open
#
# Every OS seems to use it's own uniquely-named binary to open
# files using the correct handler for the file's MIME type. This is my
# attempt to resolve the different handlers into a platform-independent
# one.
#

# Find handler, if one is available
if type -p cygstart > /dev/null 2>&1
then
    handler=cygstart
elif type -p exo-open > /dev/null 2>&1
then
    handler=exo-open
elif type -p xdg-open > /dev/null 2>&1
then
    handler=xdg-open
# Because of its ambiguity, open (the macOS handler) should always be
# tested last
elif type -p open > /dev/null 2>&1
then
    handler=open
else
    echo "my-open: No suitable handler found" > /dev/stderr
    exit -1
fi

$handler $@
