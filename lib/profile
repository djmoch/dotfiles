fn addpath {
	if(~ $PATH *^$1^*) {}
	if not {
		PATH=$PATH:$1
	}
}

fn %{ $* }
font=/lib/font/bit/lucsans/unicode.7.font
addpath $home/bin
HOSTNAME=`{hostname | cut -d. -f1}
LANG=en_US.UTF-8
XDG_CONFIG_HOME=$home/etc
XDG_CACHE_HOME=$home/var/cache
XDG_DATA_HOME=$home/var
PYTHONUSERBASE=$home
GOPATH=$home
TMPDIR=$home/tmp

switch($HOSTNAME) {
case carbon
	PLAN9=/usr/local/plan9
	addpath $PLAN9/bin
	BROWSER=firefox-esr
	EDITOR=E
	PAGER=nobs
	SSH_AGENT_PID=()
	SSH_AUTH_SOCK=`{gpgconf --list-dirs agent-ssh-socket}
	GPG_TTY=`{tty}
	gpg-connect-agent updatestartuptty /bye >/dev/null >[2=1]
	PKG_PATH=https://cdn.openbsd.org/pub/OpenBSD/snapshots/packages/amd64
	MOZ_ACCELERATED=1
	wsconsctl mouse.reverse_scrolling=1 >/dev/null
	if(~ $#DISPLAY 0) {
		exec startx
	}
}

fn addpath
